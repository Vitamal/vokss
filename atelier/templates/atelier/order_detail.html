{% extends 'atelier/generic_new.html' %}
{% load i18n %}
{% load order_price_calc %}


{% block content %}

    <h1>Замовлення: {{ order.pk }}</h1>

    <p><strong>Клієнт: </strong>п. {{ order.client }} </p>
    <p><strong>Виріб: </strong> {{ order.product }}</p>
    <p><strong>Тканина: </strong> {{ order.fabric }}</p>
    <p><strong>Тканина (група): </strong> {{ order.fabric.group }}</p>
    <p><strong>{% trans 'Transformation category' %}: </strong> {{ order.processing_category }}</p>
    <p><strong>Ускладнюючий елемент: </strong></p>
    <ul>
        {% for complication_element in order.complication_elements.all %}
            <li> <a href="{% url 'atelier:index' %}"> {{ complication_element }} </a> </li>
        {% endfor %}
    </ul>
    <p><strong>Надбавки / знижки: </strong></p>
    <ul>
    {% for allowance_discount in order.allowance_discount.all %}
        <li> <a href="{% url 'atelier:index' %}"> {{ allowance_discount }} </a> </li>
    {% endfor %}
    </ul>
    <p><strong>Дата замовлення: </strong> {{ order.order_date|date:"l d F Y"  }}</p>  {# my comment:Formats a date according to the given format.#}

    <p><strong>Ціна замовлення : </strong> {{ order.order_price }} ₴ </p>           {#  from model @property #}
    <p><strong>Ціна замовлення : </strong> {{ order_price_view }} ₴</p>  {#  from view #}

    {% order_price_tag order  as tag_order_price %}
    <p><strong>Ціна замовлення : </strong> {{ tag_order_price }} ₴</p>    {#  from temlatetag #}

    <p><a href="{% url 'atelier:order_update_form' pk=order.pk %}">Edit</a></p>
    <br>
    <p><a href="{% url 'atelier:order_delete_form' pk=order.pk %}">Видалити</a></p>
    <br>
{% endblock %}
